From 11ee2edcb1e391a94e37b85d2667a2a4648d847a Mon Sep 17 00:00:00 2001
From: Stanislav Ochotnicky <sochotnicky@redhat.com>
Date: Mon, 29 Apr 2013 11:37:12 +0200
Subject: [PATCH 4/4] Fix itext dependency

---
 .../main/java/org/apache/maven/doxia/module/itext/ITextFont.java    | 6 +++---
 .../main/java/org/apache/maven/doxia/module/itext/ITextSink.java    | 6 +++---
 .../main/java/org/apache/maven/doxia/module/itext/ITextUtil.java    | 2 +-
 3 files changed, 7 insertions(+), 7 deletions(-)

diff --git a/doxia-modules/doxia-module-itext/src/main/java/org/apache/maven/doxia/module/itext/ITextFont.java b/doxia-modules/doxia-module-itext/src/main/java/org/apache/maven/doxia/module/itext/ITextFont.java
index 2cc8ef1..b6980fb 100644
--- a/doxia-modules/doxia-module-itext/src/main/java/org/apache/maven/doxia/module/itext/ITextFont.java
+++ b/doxia-modules/doxia-module-itext/src/main/java/org/apache/maven/doxia/module/itext/ITextFont.java
@@ -262,7 +262,7 @@ public class ITextFont
     {
         Font font = getCurrentFont();
 
-        return String.valueOf( font.color().getBlue() );
+        return String.valueOf( font.getColor().getBlue() );
     }
 
     /**
@@ -274,7 +274,7 @@ public class ITextFont
     {
         Font font = getCurrentFont();
 
-        return String.valueOf( font.color().getGreen() );
+        return String.valueOf( font.getColor().getGreen() );
     }
 
     /**
@@ -286,7 +286,7 @@ public class ITextFont
     {
         Font font = getCurrentFont();
 
-        return String.valueOf( font.color().getRed() );
+        return String.valueOf( font.getColor().getRed() );
     }
 
     /**
diff --git a/doxia-modules/doxia-module-itext/src/main/java/org/apache/maven/doxia/module/itext/ITextSink.java b/doxia-modules/doxia-module-itext/src/main/java/org/apache/maven/doxia/module/itext/ITextSink.java
index 7c1da55..49acc5a 100644
--- a/doxia-modules/doxia-module-itext/src/main/java/org/apache/maven/doxia/module/itext/ITextSink.java
+++ b/doxia-modules/doxia-module-itext/src/main/java/org/apache/maven/doxia/module/itext/ITextSink.java
@@ -1231,9 +1231,9 @@ public class ITextSink
         try
         {
             Image image = Image.getInstance( new URL( urlName ) );
-            image.scaleToFit( ITextUtil.getDefaultPageSize().width() / 2, ITextUtil.getDefaultPageSize().height() / 2 );
-            width = image.plainWidth();
-            height = image.plainHeight();
+            image.scaleToFit( ITextUtil.getDefaultPageSize().getWidth() / 2, ITextUtil.getDefaultPageSize().getHeight() / 2 );
+            width = image.getPlainWidth();
+            height = image.getPlainHeight();
         }
         catch ( BadElementException e )
         {
diff --git a/doxia-modules/doxia-module-itext/src/main/java/org/apache/maven/doxia/module/itext/ITextUtil.java b/doxia-modules/doxia-module-itext/src/main/java/org/apache/maven/doxia/module/itext/ITextUtil.java
index 4363413..65bab32 100644
--- a/doxia-modules/doxia-module-itext/src/main/java/org/apache/maven/doxia/module/itext/ITextUtil.java
+++ b/doxia-modules/doxia-module-itext/src/main/java/org/apache/maven/doxia/module/itext/ITextUtil.java
@@ -77,7 +77,7 @@ public class ITextUtil
                 if ( currentField.getType().equals( Rectangle.class ) )
                 {
                     Rectangle fPageSize = (Rectangle) currentField.get( null );
-                    if ( ( rect.width() == fPageSize.width() ) && ( rect.height() == fPageSize.height() ) )
+                    if ( ( rect.getWidth() == fPageSize.getWidth() ) && ( rect.getHeight() == fPageSize.getHeight() ) )
                     {
                         return currentField.getName();
                     }
-- 
1.8.1.4

